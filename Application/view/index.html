<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      <title>CSC 642 Summer 2019 Individual Assignment Harshveer Saini “Registration form”
      </title>
      <!-- Captcha script -->
      <script src="https://www.google.com/recaptcha/api.js" async defer></script>
      <!-- Font Awesome -->
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
      <!-- Bootstrap core CSS -->
      <link href="css/bootstrap.min.css" rel="stylesheet">
      <!-- Material Design Bootstrap -->
      <link href="css/mdb.min.css" rel="stylesheet">
      <!-- Your custom styles (optional) -->
      <link rel="stylesheet" href="css/index.css">
   </head>
   <script>
      var numreg =/^[2-9]\d{2}-\d{3}-\d{4}$/;
      var alphareg = /^[A-Za-z]+$/;
      var addreg=/^.{5,40}$/;
      var mailreg=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/;
                            
      function check(){
      if (grecaptcha.getResponse() === '') {                            
      document.querySelector("#Submit").innerHTML="Please make sure all fields are filled correctly and the captcha is checked then try again";
      return false;
      }
                  else{localStorage.setItem("fName", document.querySelector('#fName').value);
                  localStorage.setItem("lName", document.querySelector('#lName').value);
                  localStorage.setItem("Street", document.querySelector('#street').value);
                  localStorage.setItem("eduSelect", document.querySelector('#eduSelect').value);
                  localStorage.setItem("incSelect", document.querySelector('#IncSelect').value);
                  localStorage.setItem("phno", document.querySelector('#phno').value);
                  localStorage.setItem("email", document.querySelector('#email').value);
                  return true;
                 }
                 }
               
              function chkTerms()
              {
                 return document.querySelector("#chkbox").checked
              }
              function validInput(fld, reqExp){
                  obj=document.querySelector(fld);
                  if (!obj.value.match(reqExp))
                  {document.querySelector(fld+"Error").innerHTML="Invalid input, please try again. Write to formadmin@genius.com if you feel this is an error";
                  return false;
                  }
                  else
                  {
                  document.querySelector(fld+"Error").innerHTML="";
                  return true;
                  }
              };
              function confirm_email(){
                  obj1=document.querySelector("#Email");
                  obj2=document.querySelector("#cnfrm_email");
                  if (obj1.value==obj2.value)
                  {
                      obj2=document.querySelector("#cnfrm_emailerror").innerHTML="";
                      return true;
                  }
                  else
                  {
                      
                      obj2=document.querySelector("#cnfrm_emailerror").innerHTML="Confirm email does not match";
                      return false;
      
                  }
              }; 
       </script>
   <body>
      <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCUXgb-Kajxm7KPMsApHtESHeU2XDQ29XY&callback=initMap"></script>   
      <div style="width: 65%; margin: 0 auto;">
         <div id=map style="width: 320px; height: 1px;"></div>
         <form id="signUpFrm" action="./results.html">
            <div style="margin-bottom: 4px;text-align:center">
               <h5 style="color: black;">CSC 642 Summer 2019<br>Individual Assignment : Harshveer Saini<br>“Registration form”</h5>
            </div>
            <div class="form-control" style="margin-bottom: 4px; background-color: royalblue; text-align:center">
               <h5 style="color: seashell;">Sign Up Form</h5>
            </div>
            <input type="text" id="fName" placeholder="* First Name" class="form-control" pattern="[A-Za-z]{1,40}" onblur="validInput('#fName',alphareg)" required>
            <small id="fNameError"style="color: red"></small>
            <input type="text" id="lName" class="form-control" placeholder="* Last name" pattern="[A-Za-z]{1,40}" onblur="validInput('#lName',alphareg)" required>
            <small id="lNameError"style="color: red"></small>
            <input type="text" id="street" class="form-control" placeholder="* Street Address" pattern=.{5,40} required onblur="validInput('#street',addreg)">
            <small id="streetError"style="color: red"></small>
            <hr>
            Education:
            <select id="eduSelect" class="browser-default custom-select" >
               <option value="" disabled selected>Choose not to Say</option>
               <option value="High School">High School</option>
               <option value="College">College</option>
               <option value="Gradtuate Studies">Gradtuate Studies</option>
               <option value="Ph.D">Ph.D</option>
            </select>
            Income:
            <select id="IncSelect" class="browser-default custom-select" style="margin-bottom: 8px">
            <option value="" disabled selected>Choose not to Say</option>
            <option value="less than $ 50K">less than $50K</option>
            <option value="between $50-100 K">between $50-100K</option>
            <option value="above $100 K">above $100K</option>
            <input  id="phno" class="form-control" aria-describedby="materialRegisterFormPhoneHelpBlock" placeholder="* Phone Number" type="tel" id="phone" name="phone"
               pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" onblur="validInput('#phno',numreg)" required>
            <small id=phnoError style="color: red"></small>  
            <small id="materialRegisterFormPhoneHelpBlock" class="form-text text-muted mb-4">
            (Format : xxx-xxx-xxxx) We will use this in case of emergency only.</small>
            <input type="email" id="Email" class="form-control" placeholder="Email" onblur="validInput('#Email',mailreg)">
            <small id="Emailerror" style="color: red"></small>
            <input type="text" id="cnfrm_email" class="form-control" placeholder="Confirm Email" onblur="confirm_email('#Email','#cnfrm_email')" >
            <small id="cnfrm_emailerror" style="color: red"></small>
            <div class="card-body px-lg-5 pt-0">
               <input type="checkbox" class="form-check-input" id="chkbox" required>I Agree to the <a href="">terms and conditions</a>
            </div>
            <div class="g-recaptcha" data-sitekey="6LdI2a8UAAAAAC36tXbZ6nu_OiCtGuJRRwTTFMtN"></div>
            <small id="submit" style="color: red"></small>
            <button type="submit" class="btn btn-outline-info btn-rounded btn-block my-4 waves-effect z-depth-0" onsubmit="codeAddress()" onclick="return check();">Sign Up</button>
         </form>
      </div>
      </form>
      </div>
   </body>
</html>
<html>
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      <title>SignUp -Harshveer Saini</title>
      <!-- Captcha script -->
      <script src="https://www.google.com/recaptcha/api.js" async defer></script>
      <!-- Font Awesome -->
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
      <!-- Bootstrap core CSS -->
      <link href="css/bootstrap.min.css" rel="stylesheet">
      <!-- Material Design Bootstrap -->
      <link href="css/mdb.min.css" rel="stylesheet">
      <!-- Your custom styles (optional) -->
      <link rel="stylesheet" href="css/index.css">
   </head>
   <script>
      var numreg =/^[2-9]\d{2}-\d{3}-\d{4}$/;
      var alphareg = /^[A-Za-z]+$/;
      var addreg=/^.{5,40}$/;
      var mailreg=/^\w+[\w-\.\_]*\@\w+((-\w+)|(\w*))\.[a-z]{2,3}$/;
      var pwdreg=/^(?=[^\d_].*?\d)\w(\w|[!@#$%]){7,20}$/;
              
               window.onload = function() { 
               var $recaptcha = document.querySelector('#g-recaptcha-response');
      
                if($recaptcha) {
               $recaptcha.setAttribute("required", "required");
               }};
             
               function initMap() {
               var map = new google.maps.Map(
               document.getElementById('map'), {center: document.querySelector("#street"), zoom: 15});}
              
               function dispResults() {
                 if(validInput("#fname",alphareg) && validInput("#lname",alphareg) && validInput("#street",addreg) && validInput("#phno",numreg)&&validInput("#lname",alphareg)&&validInput("#email",mailreg)&& confirm_email()&&validInput("#pwd",pwdreg)&&chkTerms()&&grecaptcha.getResponse())
                 {document.write("Name:<h3 id='fName'>"+document.querySelector('#fName').value+"</h3> <h3 id='lName'>"+document.querySelector('#lName').value+"</h3><br>"+"Address: <h3 id='street'>"+document.querySelector('#street').value+"</h3><br>"+"Education: <h3 id='eduselect'>"+document.querySelector('#eduSelect').value +"</h3><br>Income: <h3 id='income'>"+document.querySelector('#IncSelect').value+"</h3> <br> Phone: <h3 id='phno'>"+document.querySelector('#phno').value+"</h3><br>User Email: <h3 id='email'>"+document.querySelector('#email').value)+"</h3>"}
                 else
                 document.querySelector("#Submit").innerHTML="Please correct the errors on the form and try again";
      
              };
              function chkTerms()
              {
                 return document.querySelector("#chkbox").checked
              }
              function validInput(fld, reqExp){
                  obj=document.querySelector(fld);
                  if (!obj.value.match(reqExp))
                  {document.querySelector(fld+"Error").innerHTML="Invalid input, please try again. Write to formadmin@genius.com if you feel this is an error";
                  return false;
                  }
                  else
                  {
                  document.querySelector(fld+"Error").innerHTML="";
                  return true;
                  }
              };
              function confirm_email(){
                  obj1=document.querySelector("#Email");
                  obj2=document.querySelector("#cnfrm_email");
                  if (obj1.value==obj2.value)
                  {
                      obj2=document.querySelector("#cnfrm_emailerror").innerHTML="";
                      return true;
                  }
                  else
                  {
                      
                      obj2=document.querySelector("#cnfrm_emailerror").innerHTML="Confirm email does not match";
                      return false;
      
                  }
              };        
   </script>
   <body>
      <div style="width: 65%; margin: 0 auto;">
         <form id="signUpFrm">
            <div class="form-control" style="margin-bottom: 4px; background-color: royalblue; text-align:center">
               <h5 style="color: seashell;">Sign Up</h5>
            </div>
            <input type="text" id="fName" placeholder="* First Name" class="form-control" pattern="[A-Za-z]{1,40}" onblur="validInput('#fName',alphareg)" required>
            <small id="fNameError"style="color: red"></small>
            <input type="text" id="lName" class="form-control" placeholder="* Last name" pattern="[A-Za-z]{1,40}" onblur="validInput('#lName',alphareg)" required>
            <small id="lNameError"style="color: red"></small>
            <input type="text" id="street" class="form-control" placeholder="* Street Address" pattern=.{5,40} required onblur="validInput('#street',addreg)">
            <small id="streetError"style="color: red"></small>
            <table style="position:relative">
               <tr>
                  <td>
                     <p>Education:</p>
                  </td>
                  <td>
                     <select id="eduSelect">
                        <option value="" disabled selected>Choose not to Say</option>
                        <option value="High School">High School</option>
                        <option value="College">College</option>
                        <option value="Gradtuate Studies">Gradtuate Studies</option>
                        <option value="Ph.D">Ph.D</option>
                     </select>
                  </td>
               </tr>
               <tr>
                  <td>
                     <p>Income:</p>
                  </td>
                  <td>
                     <select id="IncSelect">
                     <option value="" disabled selected>Choose not to Say</option>
                     <option value="less than $ 50K">less than $ 50K</option>
                     <option value="between $50-100 K">between $50-100 K</option>
                     <option value="above $100 K">above $100 K</option>
                  </td>
               </tr>
            </table>
            <input  id="phno" class="form-control" aria-describedby="materialRegisterFormPhoneHelpBlock" placeholder="* Phone Number" type="tel" id="phone" name="phone"
               pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" onblur="validInput('#phno',numreg)" required>
            <small id=phnoError style="color: red"></small>  
            <small id="materialRegisterFormPhoneHelpBlock" class="form-text text-muted mb-4">
            (Format : xxx-xxx-xxxx) We will use this in case of emergency only.</small>
            <input type="email" id="Email" class="form-control" placeholder="Email" pattern="^\w+[\w-\.\_]*\@\w+((-\w+)|(\w*))\.[a-z]{2,3}$" onblur="validInput('#Email',mailreg)">
            <small id="Emailerror" style="color: red"></small>
            <input type="text" id="cnfrm_email" class="form-control" placeholder="Confirm Email" onblur="confirm_email('#Email','#cnfrm_email')" >
            <small id="cnfrm_emailerror" style="color: red"></small>
            <input type="password" id="pwd" class="form-control" aria-describedby="materialRegisterFormPasswordHelpBlock" placeholder="Password" pattern="^(?=[^\d_].*?\d)\w(\w|[!@#$%]){7,20}" onblur="validInput('#pwd',pwdreg)">
            <small id="pwdError" style="color: red"></small>
            <small id="materialRegisterFormPasswordHelpBlock" class="form-text text-muted mb-4">
            Start with an alphabet(8~20 char long), have atleast 1 digit. 
            </small>
            <div class="card-body px-lg-5 pt-0">
               <input type="checkbox" class="form-check-input" id="chkbox" required>I Agree to the <a href="">terms and conditions</a>
            </div>
            <div class="g-recaptcha" data-sitekey="6LdI2a8UAAAAAC36tXbZ6nu_OiCtGuJRRwTTFMtN"></div>
            <button class="btn btn-outline-info btn-rounded btn-block my-4 waves-effect z-depth-0" onclick="dispResults()">Sign Up</button>
            <small id="submit" style="color: red"></small>
         </form>
      </div>
      </form>
      </div>
   </body>
</html>